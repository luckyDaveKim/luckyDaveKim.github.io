<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" property="og:image:height" content="810"/><meta data-react-helmet="true" property="og:image:width" content="1440"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:image" content="https://luckydavekim.github.io/static/8ad0a5528beee862a333b596370c8396/4a49b/cover.jpg"/><meta data-react-helmet="true" name="twitter:url" content="https://luckydavekim.github.io/development/back-end/spring-security/what-is-the-hsts"/><meta data-react-helmet="true" name="twitter:description" content="HSTS(HTTP Strict Transport Security)의 개념과 Spring Security의 HSTS 설정 방법 그리고 Nginx + Tomcat의 환경에서 HSTS 설정중 겪은 이슈에 대해 알아봅니다."/><meta data-react-helmet="true" name="twitter:title" content="HSTS (HTTP Strict Transport Security) 개념과 Spring Security의 HSTS 설정 및 이슈 해결 과정"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="article:author" content="https://www.facebook.com/lucky.dave.k"/><meta data-react-helmet="true" property="article:publisher" content="https://www.facebook.com/lucky.dave.k"/><meta data-react-helmet="true" property="article:tag" content="secure_socket_layer"/><meta data-react-helmet="true" property="article:tag" content="ssl"/><meta data-react-helmet="true" property="article:tag" content="tomcat"/><meta data-react-helmet="true" property="article:tag" content="nginx"/><meta data-react-helmet="true" property="article:tag" content="http_strict_transport_security"/><meta data-react-helmet="true" property="article:tag" content="hsts"/><meta data-react-helmet="true" property="article:tag" content="spring_security"/><meta data-react-helmet="true" property="article:published_time" content="2020-11-19T08:30:21.000Z"/><meta data-react-helmet="true" property="og:image" content="https://luckydavekim.github.io/static/8ad0a5528beee862a333b596370c8396/4a49b/cover.jpg"/><meta data-react-helmet="true" property="og:url" content="https://luckydavekim.github.io/development/back-end/spring-security/what-is-the-hsts"/><meta data-react-helmet="true" property="og:description" content="HSTS(HTTP Strict Transport Security)의 개념과 Spring Security의 HSTS 설정 방법 그리고 Nginx + Tomcat의 환경에서 HSTS 설정중 겪은 이슈에 대해 알아봅니다."/><meta data-react-helmet="true" property="og:title" content="HSTS (HTTP Strict Transport Security) 개념과 Spring Security의 HSTS 설정 및 이슈 해결 과정"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:site_name" content="DevDave"/><meta data-react-helmet="true" name="description" content="HSTS(HTTP Strict Transport Security)의 개념과 Spring Security의 HSTS 설정 방법 그리고 Nginx + Tomcat의 환경에서 HSTS 설정중 겪은 이슈에 대해 알아봅니다."/><meta name="generator" content="Gatsby 4.9.3"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://luckydavekim.github.io/development/back-end/spring-security/what-is-the-hsts" data-baseprotocol="https:" data-basehost="luckydavekim.github.io"/><title data-react-helmet="true">HSTS (HTTP Strict Transport Security) 개념과 Spring Security의 HSTS 설정 및 이슈 해결 과정</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,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" type="image/x-icon"/><link rel="alternate" type="application/rss+xml" title="DevDave | The blog for dave" href="/rss.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link as="script" rel="preload" href="/webpack-runtime-69ca87625ade389e53ee.js"/><link as="script" rel="preload" href="/framework-9f1703385783253fc7b0.js"/><link as="script" rel="preload" href="/app-b10641dc781e1cd27c7a.js"/><link as="script" rel="preload" href="/af52a822-f5a60ab968dad66fa0b9.js"/><link as="script" rel="preload" href="/b4ffff85-058081e9899e75c36acd.js"/><link as="script" rel="preload" href="/e0525e89-8f0f4861ffbc1341b8c4.js"/><link as="script" rel="preload" href="/commons-0a242da1f60aa5d3e680.js"/><link as="script" rel="preload" href="/260ef370384e45f20f1f9198cbce8cf0f7de93d4-cebec47fb5439ed32a2a.js"/><link as="script" rel="preload" href="/161edb849f784c06ff2710753fb2ae881c988403-150bae5331b62b95af11.js"/><link as="fetch" rel="preload" href="/page-data/development/back-end/spring-security/what-is-the-hsts/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1144773313.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/288898337.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global wbphhm">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}::selection{text-shadow:none;background:#cbeafb;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css wv5on3">.css-wv5on3 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-wv5on3 .site-main{background:#191b1f;}}</style><style data-emotion="css 1qvd43r">.css-1qvd43r{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-1qvd43r .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-1qvd43r .site-main{background:#191b1f;}}</style><div class="css-1qvd43r evn7e2j0"><header class="site-header"><style data-emotion="css 1qxgdzi">.css-1qxgdzi{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-1qxgdzi{padding-right:0;padding-left:0;}}</style><div class="css-1qxgdzi"><style data-emotion="css y521qa">.css-y521qa{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-y521qa"><style data-emotion="css jd5lfo">.css-jd5lfo{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:hidden;height:64px;font-size:1.3rem;}</style><nav class="css-jd5lfo"><style data-emotion="css crtwut">.css-crtwut{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-crtwut{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-crtwut edsnl3p5"><style data-emotion="css 3oagtl">.css-3oagtl{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-3oagtl:hover{-webkit-text-decoration:none;text-decoration:none;}.css-3oagtl img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-3oagtl" href="/">DevDave</a><style data-emotion="css 1xdepn">.css-1xdepn{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1xdepn edsnl3p4"><style data-emotion="css nm28ox">.css-nm28ox{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-nm28ox li{display:block;margin:0;padding:0;}.css-nm28ox li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-nm28ox li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-nm28ox li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-nm28ox li a:hover:before{right:12px;opacity:0.5;}.css-nm28ox li .active{opacity:1;}.css-nm28ox li .active:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-nm28ox"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="/about">About</a></li><li role="menuitem"><a class="undefined active" href="/development">Development</a></li><li role="menuitem"><a href="/algorithm">Algorithm</a></li><li role="menuitem"><a href="/tags">Tags</a></li></ul><style data-emotion="css 1wu52sc">.css-1wu52sc{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-1wu52sc .dash{left:-25px;}.css-1wu52sc .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-1wu52sc edsnl3p0">HSTS (HTTP Strict Transport Security) 개념과 Spring Security의 HSTS 설정 및 이슈 해결 과정</span></div></div><style data-emotion="css 1p9q30u">.css-1p9q30u{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-1p9q30u{display:none;}}</style><div class="css-1p9q30u edsnl3p3"><style data-emotion="css 1z0rm8f">.css-1z0rm8f{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1z0rm8f edsnl3p2"><style data-emotion="css uoy7tg">.css-uoy7tg{display:inline-block;margin:0;padding:10px;opacity:0.8;}.css-uoy7tg:hover{opacity:1;}.css-uoy7tg svg{height:1.8rem;fill:#fff;}.css-uoy7tg svg{height:1.6rem;}</style><a href="https://github.com/luckyDaveKim" target="_blank" title="GitHub" rel="noopener noreferrer" class="css-uoy7tg"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub icon</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a href="https://www.linkedin.com/in/mingyu-kim-88890818b" target="_blank" title="LinkedIn" rel="noopener noreferrer" class="css-uoy7tg"><svg role="img" viewBox="0 0 504.4 504.4" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn icon</title><path d="M377.6,0.2H126.4C56.8,0.2,0,57,0,126.6v251.6c0,69.2,56.8,126,126.4,126H378c69.6,0,126.4-56.8,126.4-126.4V126.6 C504,57,447.2,0.2,377.6,0.2z M168,408.2H96v-208h72V408.2z M131.6,168.2c-20.4,0-36.8-16.4-36.8-36.8c0-20.4,16.4-36.8,36.8-36.8 c20.4,0,36.8,16.4,36.8,36.8C168,151.8,151.6,168.2,131.6,168.2z M408.4,408.2H408h-60V307.4c0-24.4-3.2-55.6-36.4-55.6 c-34,0-39.6,26.4-39.6,54v102.4h-60v-208h56v28h1.6c8.8-16,29.2-28.4,61.2-28.4c66,0,77.6,38,77.6,94.4V408.2z"></path></svg></a><a href="https://www.facebook.com/lucky.dave.k" target="_blank" title="Facebook" rel="noopener noreferrer" class="css-uoy7tg"><svg role="img" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><title>Facebook icon</title><path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.204 4.911h-3.546c-2.103 0-4.443.885-4.443 3.934.01 1.062 0 2.08 0 3.225h-2.433v3.872h2.509v11.147h4.61v-11.22h3.042l.275-3.81h-3.397s.007-1.695 0-2.187c0-1.205 1.253-1.136 1.329-1.136h2.054V4.911z"></path></svg></a><style data-emotion="css 1nxyl3x">.css-1nxyl3x{display:inline-block;margin:0;padding:10px;opacity:0.8;}.css-1nxyl3x:hover{opacity:1;}.css-1nxyl3x svg{height:1.8rem;fill:#fff;}.css-1nxyl3x svg{height:2.2rem;}</style><a href="https://www.instagram.com/lucky.dave" target="_blank" title="Instagram" rel="noopener noreferrer" class="css-1nxyl3x"><svg role="img" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><title>Instagram icon</title><path d="M 11.46875 5 C 7.917969 5 5 7.914063 5 11.46875 L 5 20.53125 C 5 24.082031 7.914063 27 11.46875 27 L 20.53125 27 C 24.082031 27 27 24.085938 27 20.53125 L 27 11.46875 C 27 7.917969 24.085938 5 20.53125 5 Z M 11.46875 7 L 20.53125 7 C 23.003906 7 25 8.996094 25 11.46875 L 25 20.53125 C 25 23.003906 23.003906 25 20.53125 25 L 11.46875 25 C 8.996094 25 7 23.003906 7 20.53125 L 7 11.46875 C 7 8.996094 8.996094 7 11.46875 7 Z M 21.90625 9.1875 C 21.402344 9.1875 21 9.589844 21 10.09375 C 21 10.597656 21.402344 11 21.90625 11 C 22.410156 11 22.8125 10.597656 22.8125 10.09375 C 22.8125 9.589844 22.410156 9.1875 21.90625 9.1875 Z M 16 10 C 12.699219 10 10 12.699219 10 16 C 10 19.300781 12.699219 22 16 22 C 19.300781 22 22 19.300781 22 16 C 22 12.699219 19.300781 10 16 10 Z M 16 12 C 18.222656 12 20 13.777344 20 16 C 20 18.222656 18.222656 20 16 20 C 13.777344 20 12 18.222656 12 16 C 12 13.777344 13.777344 12 16 12 Z"></path></svg></a></div></div></nav></div></div></header><style data-emotion="css fsrrhs">.css-fsrrhs{z-index:100;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-fsrrhs{background:#191b1f;}}</style><main id="site-main" class="site-main css-fsrrhs"><div class="css-y521qa"><style data-emotion="css 1dyovxq">.css-1dyovxq{position:relative;z-index:50;}</style><article class="css-1dyovxq"><style data-emotion="css 1ypjvfm">.css-1ypjvfm{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-1ypjvfm{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-1ypjvfm{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-1ypjvfm{padding:20px 0 35px;}}</style><header class="post-full-header css-1ypjvfm eu1fz7b5"><style data-emotion="css 1elnak4">.css-1elnak4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:1.2rem;font-weight:600;text-transform:uppercase;}.css-1elnak4 *{margin:0 0.3em;}</style><section class="post-full-tags css-1elnak4 eu1fz7b4"><a href="/tags/spring-security/">#<!-- -->spring_security</a><a href="/tags/hsts/">#<!-- -->hsts</a><a href="/tags/http-strict-transport-security/">#<!-- -->http_strict_transport_security</a><a href="/tags/nginx/">#<!-- -->nginx</a><a href="/tags/tomcat/">#<!-- -->tomcat</a><a href="/tags/ssl/">#<!-- -->ssl</a><a href="/tags/secure-socket-layer/">#<!-- -->secure_socket_layer</a></section><style data-emotion="css qia1z6">.css-qia1z6{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-qia1z6{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-qia1z6{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-qia1z6 eu1fz7b1">HSTS (HTTP Strict Transport Security) 개념과 Spring Security의 HSTS 설정 및 이슈 해결 과정</h1><style data-emotion="css 16sbnz0">.css-16sbnz0{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-16sbnz0{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-16sbnz0{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-16sbnz0 eu1fz7b3">HSTS(HTTP Strict Transport Security)의 개념과 Spring Security의 HSTS 설정 방법 그리고 Nginx + Tomcat의 환경에서 HSTS 설정중 겪은 이슈에 대해 알아봅니다.</p><style data-emotion="css v6r0ro">.css-v6r0ro{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-v6r0ro .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-v6r0ro .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-v6r0ro .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-v6r0ro .post-full-byline-meta h4 a{color:#2c3036;}.css-v6r0ro .post-full-byline-meta h4 a:hover{color:#15171A;}.css-v6r0ro .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-v6r0ro{border-top-color:#3b4049;}.css-v6r0ro .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-v6r0ro .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-v6r0ro eu1fz7b2"><section class="post-full-byline-content"><section class="post-full-byline-meta"><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2020-11-19">2020년 11월 19일</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->5<!-- --> min read</span></div></section></section></div></header><style data-emotion="css 1dp5o3e">.css-1dp5o3e{margin:0 -10vw -165px;height:800px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-1dp5o3e{margin:0 -4vw -100px;border-radius:0;}.css-1dp5o3e img{max-width:1170px;}}@media (max-width: 800px){.css-1dp5o3e{height:400px;}}@media (max-width: 500px){.css-1dp5o3e{margin-bottom:4vw;height:350px;}}</style><figure class="css-1dp5o3e eu1fz7b0"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1440px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;810&#x27; width=&#x27;1440&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/8ad0a5528beee862a333b596370c8396/c0bcc/cover.webp 320w,/static/8ad0a5528beee862a333b596370c8396/17574/cover.webp 640w,/static/8ad0a5528beee862a333b596370c8396/71d4d/cover.webp 1280w" sizes="(min-width: 1280px) 1280px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1280px) 1280px, 100vw" decoding="async" loading="lazy" data-src="/static/8ad0a5528beee862a333b596370c8396/4a49b/cover.jpg" data-srcset="/static/8ad0a5528beee862a333b596370c8396/b4dad/cover.jpg 320w,/static/8ad0a5528beee862a333b596370c8396/3440d/cover.jpg 640w,/static/8ad0a5528beee862a333b596370c8396/4a49b/cover.jpg 1280w" alt="HSTS (HTTP Strict Transport Security) 개념과 Spring Security의 HSTS 설정 및 이슈 해결 과정"/></picture><noscript><picture><source type="image/webp" srcSet="/static/8ad0a5528beee862a333b596370c8396/c0bcc/cover.webp 320w,/static/8ad0a5528beee862a333b596370c8396/17574/cover.webp 640w,/static/8ad0a5528beee862a333b596370c8396/71d4d/cover.webp 1280w" sizes="(min-width: 1280px) 1280px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1280px) 1280px, 100vw" decoding="async" loading="lazy" src="/static/8ad0a5528beee862a333b596370c8396/4a49b/cover.jpg" srcSet="/static/8ad0a5528beee862a333b596370c8396/b4dad/cover.jpg 320w,/static/8ad0a5528beee862a333b596370c8396/3440d/cover.jpg 640w,/static/8ad0a5528beee862a333b596370c8396/4a49b/cover.jpg 1280w" alt="HSTS (HTTP Strict Transport Security) 개념과 Spring Security의 HSTS 설정 및 이슈 해결 과정"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></figure><style data-emotion="css 1j3dtb">.css-1j3dtb{position:relative;margin:0 auto;padding:7vw 7vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1j3dtb{padding:6vw 6vw;}}@media (max-width: 800px){.css-1j3dtb{padding:5vw 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1j3dtb{padding:0;}}@media (max-width: 500px){.css-1j3dtb .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1j3dtb .no-image{padding-top:0;}.css-1j3dtb:before{content:'';position:absolute;top:15px;left:-5px;z-index:-1;display:block;width:20px;height:200px;background:rgba(39, 44, 49, 0.15);-webkit-filter:blur(5px);filter:blur(5px);-webkit-transform:rotate(-5deg);-moz-transform:rotate(-5deg);-ms-transform:rotate(-5deg);transform:rotate(-5deg);}.css-1j3dtb:after{content:'';position:absolute;top:15px;right:-5px;z-index:-1;display:block;width:20px;height:200px;background:rgba(39, 44, 49, 0.15);-webkit-filter:blur(5px);filter:blur(5px);-webkit-transform:rotate(5deg);-moz-transform:rotate(5deg);-ms-transform:rotate(5deg);transform:rotate(5deg);}.css-1j3dtb h1,.css-1j3dtb h2,.css-1j3dtb h3,.css-1j3dtb h4,.css-1j3dtb h5,.css-1j3dtb h6,.css-1j3dtb p,.css-1j3dtb ul,.css-1j3dtb ol,.css-1j3dtb dl,.css-1j3dtb li,.css-1j3dtb pre,.css-1j3dtb blockquote,.css-1j3dtb .post-full-comments,.css-1j3dtb .footnotes{line-height:1.25em;}.css-1j3dtb h1,.css-1j3dtb h2,.css-1j3dtb h3,.css-1j3dtb h4,.css-1j3dtb h5,.css-1j3dtb h6,.css-1j3dtb p,.css-1j3dtb ul,.css-1j3dtb ol,.css-1j3dtb dl,.css-1j3dtb pre,.css-1j3dtb blockquote,.css-1j3dtb .post-full-comments,.css-1j3dtb .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1j3dtb p,.css-1j3dtb ul,.css-1j3dtb ol,.css-1j3dtb dl,.css-1j3dtb pre,.css-1j3dtb .post-full-comments,.css-1j3dtb .footnotes{margin-bottom:1.28em;}}.css-1j3dtb li{word-break:break-word;}.css-1j3dtb li p{margin:0;}.css-1j3dtb a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1j3dtb a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1j3dtb strong,.css-1j3dtb em{color:#0a0b0c;}.css-1j3dtb small{display:inline-block;line-height:1.6em;}.css-1j3dtb img,.css-1j3dtb video{display:block;margin:1.5em auto;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1j3dtb img,.css-1j3dtb video{width:100%;}}.css-1j3dtb img[src$='#full']{max-width:none;width:100vw;}.css-1j3dtb img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1j3dtb iframe{margin:0 auto!important;}.css-1j3dtb blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1j3dtb blockquote{padding:0 1.3em;}}.css-1j3dtb blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1j3dtb blockquote p:last-child{margin-bottom:0;}.css-1j3dtb code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1j3dtb p code{word-break:break-all;}.css-1j3dtb pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1j3dtb pre ::selection{color:#3b474d;}.css-1j3dtb pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1j3dtb pre code :not(span){color:inherit;}.css-1j3dtb .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1j3dtb hr{margin:2em 0;}.css-1j3dtb hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1j3dtb hr+p{margin-top:1.2em;}.css-1j3dtb h1,.css-1j3dtb h2,.css-1j3dtb h3,.css-1j3dtb h4,.css-1j3dtb h5,.css-1j3dtb h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1j3dtb h1{margin:0.7em 0;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1j3dtb h2{margin:0.6em 0;font-size:2.6rem;line-height:1.25em;font-weight:600;}.css-1j3dtb h3{margin:0.5em 0;font-size:2.3rem;line-height:1.25em;font-weight:600;}.css-1j3dtb h4{margin:0.4em 0 0.2em;font-size:2.2rem;line-height:1.25em;font-weight:600;}.css-1j3dtb h5{margin:0.4em 0 0.2em;font-size:2.1rem;line-height:1.25em;font-weight:600;}.css-1j3dtb h6{margin:0.4em 0 0.2em;font-size:2.0rem;line-height:1.25em;font-weight:600;}.css-1j3dtb p{line-height:1.25em;}.css-1j3dtb table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1j3dtb table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1j3dtb table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1j3dtb table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1j3dtb table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1j3dtb table th,.css-1j3dtb table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1j3dtb{background:#191b1f;}.css-1j3dtb h1,.css-1j3dtb h2,.css-1j3dtb h3,.css-1j3dtb h4,.css-1j3dtb h5,.css-1j3dtb h6{color:rgba(255, 255, 255, 0.9);}.css-1j3dtb a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1j3dtb strong{color:#fff;}.css-1j3dtb em{color:#fff;}.css-1j3dtb code{color:#fff;background:#000;}.css-1j3dtb hr{border-top-color:#2b2f36;}.css-1j3dtb figcaption{color:rgba(255, 255, 255, 0.6);}.css-1j3dtb table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1j3dtb table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1j3dtb table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1j3dtb table th,.css-1j3dtb table td{border:#2b2f36 1px solid;}.css-1j3dtb .kg-bookmark-container,.css-1j3dtb .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1j3dtb code[class*='language-'],.css-1j3dtb pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1j3dtb pre[class*='language-']{overflow:auto;}.css-1j3dtb pre[class*='language-']::-moz-selection{background:hsl(207, 4%, 16%);}.css-1j3dtb pre[class*='language-']::selection{background:hsl(207, 4%, 16%);}.css-1j3dtb pre[class*='language-']::-moz-selection,.css-1j3dtb pre[class*='language-'] ::-moz-selection{text-shadow:none;background:hsla(0, 0%, 100%, 0.15);}.css-1j3dtb pre[class*='language-']::selection,.css-1j3dtb pre[class*='language-'] ::selection{text-shadow:none;background:hsla(0, 0%, 100%, 0.15);}.css-1j3dtb *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1j3dtb .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1j3dtb .token.comment{color:rgb(128, 147, 147);}.css-1j3dtb .token.string,.css-1j3dtb .token.url{color:rgb(173, 219, 103);}.css-1j3dtb .token.variable{color:rgb(214, 222, 235);}.css-1j3dtb .token.number{color:rgb(247, 140, 108);}.css-1j3dtb .token.builtin,.css-1j3dtb .token.char,.css-1j3dtb .token.constant,.css-1j3dtb .token.function{color:rgb(130, 170, 255);}.css-1j3dtb .token.punctuation{color:rgb(199, 146, 234);}.css-1j3dtb .token.selector,.css-1j3dtb .token.doctype{color:rgb(199, 146, 234);font-style:italic;}.css-1j3dtb .token.class-name{color:rgb(255, 203, 139);}.css-1j3dtb .token.tag,.css-1j3dtb .token.operator,.css-1j3dtb .token.keyword{color:#ffa7c4;}.css-1j3dtb .token.boolean{color:rgb(255, 88, 116);}.css-1j3dtb .token.property{color:rgb(128, 203, 196);}.css-1j3dtb .token.namespace{color:rgb(178, 204, 214);}.css-1j3dtb pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1j3dtb .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1j3dtb .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1j3dtb .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1j3dtb e16ggdks0"><div><h1>개요</h1>
<p>이 포스팅에서는 HSTS(HTTP Strict Transport Security)의 개념에 대해 알아보고,
<a href="https://www.nginx.com">Nginx</a> + <a href="http://tomcat.apache.org">Tomcat</a>의 환경에서
<a href="https://spring.io/projects/spring-security">Spring Security</a>의 HSTS 설정중 겪은 이슈에 대해 공유하려 합니다.</p>
<h1>HSTS(HTTP Strict Transport Security)란 무엇인가?</h1>
<p>HSTS는 보안을 강화하기 위한 기술로, 웹 접속시 <a href="https://ko.wikipedia.org/wiki/HTTPS">HTTPS</a>(HTTP over Secure Socket Layer) 프로토콜을 사용하도록 강제하는 기능입니다.<br/>
브라우저의 요청에 대한 응답에 HSTS 헤더를 담아서 보내게 되면, 브라우저는 향후 일정 시간(max-age 옵션에 설정한 시간)동안 해당 도메인에 요청시 HTTPS 프로토콜을 사용하게 됩니다.</p>
<blockquote>
<p>HSTS는 국제 인터넷 표준화 기구(IETF, Internet Engineering Task Force) 표준이며, <a href="https://tools.ietf.org/html/rfc6797">RFC-6797</a>로 세부내용이 기술되어 있습니다.</p>
</blockquote>
<h1>HSTS의 장점은 무엇인가?</h1>
<p>HTTPS 프로토콜을 강제하는 방법에서는 HSTS 사용 대신, HTTP 요청에 대해 HTTPS로 리다이렉트를 통해 처리하는 방법도 가능할텐데, HSTS를 사용하는 것의 장점은 무엇이 있을까요?<br/>
<strong>HSTS를 사용할 경우 클라이언트는 서버와 HTTP 프로토콜을 통한 통신을 원천적으로 진행하지 않는다는 장점이 있습니다.</strong><br/>
그렇다면, HTTPS 프로토콜을 강제하는 두가지 방법에 대해 비교를 통해 알아보도록 하겠습니다.</p>
<h2>리다이렉트를 통한 HTTPS 강제</h2>
<p>HTTP 프로토콜을 통한 요청시 서버에서 HTTPS 프로토콜로 리다이렉트를 하여, HTTPS로 통신하도록 강제하는 과정을 살펴보겠습니다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1280px">
      <a class="gatsby-resp-image-link" href="/static/089b33f77b0039c0fda390940aaa85c8/bbbf7/redirect-to-https.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:56.388888888888886%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABAUlEQVQoz4WRW26DMBBF2f+C0mYLlSq5HyA1AkEKdrFJscPbr5mqhKpNU8iRP+zRnNEdOcB1rLXe+/kK/zYEvx9gtZ96gKU1DEPG6Fd9qcCqDADjOLVt551DRK31bvdACHFjb4YOwd/awVpmp4eapao+fQz4xoRSahIZ6B69w+9oi9w0TVEUWZaC1egMWGvaGuoczSBE9XqIZWeOyeHl+Unw8ke+7BPHcUEpIWQQOap3L5mi6cBinJpGSVWfELHk4nG/j5PkKraUMoqisiw5566rYTnyLCjqnjPK8iMidG2TJElVVVeytdYYc7v2JdQ4c+erYAY3+dMT4D02ht6XN/gENtuBwkeiGAMAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Redirect to https" title="Redirect to https" src="/static/089b33f77b0039c0fda390940aaa85c8/bbbf7/redirect-to-https.png" srcSet="/static/089b33f77b0039c0fda390940aaa85c8/53918/redirect-to-https.png 360w /static/089b33f77b0039c0fda390940aaa85c8/242a6/redirect-to-https.png 720w /static/089b33f77b0039c0fda390940aaa85c8/bbbf7/redirect-to-https.png 1280w" sizes="(max-width: 1280px) 100vw, 1280px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<ol>
<li>클라이언트는 최초 HTTP로 접속을 시도합니다. 이때, 중간자가 암호화 되지 않은 패킷을 가로챕니다.</li>
<li>중간자는 가로챈 패킷을 바탕으로 서버와 통신을 합니다.</li>
<li>서버는 HTTP 프로토콜로 요청이 왔으므로, HTTPS로 리다이렉트 요청을 보냅니다.<br/>
(이제 중간자와 서버는 HTTPS 프로토콜을 통한 통신을 진행합니다.)</li>
<li>중간자는 클라이언트에게 HTTP로 요청에 대한 응답을 보냅니다.</li>
<li>클라이언트는 향후 지속적으로 HTTP로 요청을 보냅니다.</li>
<li>중간자는 향후 지속적으로 클라이언트의 HTTP 요청을 HTTPS로 변경하여 서버에 요청을 보냅니다.</li>
<li>서버는 HTTPS 요청에 대한 응답을 보냅니다.</li>
<li>중간자는 클라이언트에게 HTTP로 요청에 대한 응답을 보냅니다.</li>
</ol>
<p>위와 같이 HTTP 프로토콜을 HTTPS로 리다이렉트하여 통신 할 경우, 중간자(MITM, Man In The Middle) 공격 방식인 SSL Stripping 공격에 노출될 수 있습니다.</p>
<h2>HSTS를 통한 HTTPS 강제</h2>
<p>이번에는 HSTS 설정을 통해 HTTPS로 통신하도록 강제하는 과정을 살펴보겠습니다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1280px">
      <a class="gatsby-resp-image-link" href="/static/e36f2f7231dba64001361ffa61db840d/bbbf7/hsts.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:56.388888888888886%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA3ElEQVQoz6WR8WqEMAzGff8XEnyKIuI4qJyw0yn11PXs2aZpcjgZ0wM3xn30jybNL19oIj6W9z6E8EtBtA3Iu2ANEa1hlmV1XS/578whTETzbG+3KSAyMwAkSSKE2MJPXaKnZvR1mHmebf52Msb8PbbW+v1yKcsz6m4e1QJbV5zLrWHf92maKqV+4PVBSllVlRCiuw7q2nej0TZoi6OBz7sfDRjgj6aJ41hKuXMehiHP86Zp2rZ1GBySBQQk5wMgLRckJJ4mUxTFznldCQDw/7X77aOVHNVE/IJegh/m6YUkFLNwLgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="HSTS" title="HSTS" src="/static/e36f2f7231dba64001361ffa61db840d/bbbf7/hsts.png" srcSet="/static/e36f2f7231dba64001361ffa61db840d/53918/hsts.png 360w /static/e36f2f7231dba64001361ffa61db840d/242a6/hsts.png 720w /static/e36f2f7231dba64001361ffa61db840d/bbbf7/hsts.png 1280w" sizes="(max-width: 1280px) 100vw, 1280px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<ol>
<li>클라이언트는 최초 HTTP로 접속을 시도하였으나, 브라우저에서 HSTS 설정된 도메인임을 확인하고 서버로 HTTP 요청을 보내지 않습니다.</li>
<li>브라우저는 HTTPS로 서버에 요청합니다.<br/>
(중간자는 SSL로 암호화된 패킷을 도청할 수 없습니다.)</li>
<li>서버는 HTTPS 요청에 대한 응답을 보냅니다.</li>
</ol>
<p>위에서 비교를 통해 알아본 것과 같이, HSTS를 사용할 경우 원천적으로 서버와 HTTP 통신을 진행하지 않기 때문에 보안적 측면에서 좀 더 안전하다는 장점이 있습니다.<br/>
또한, IETF 표준이라는 점도 장점일 것입니다.</p>
<h1>HSTS 설정 방법 및 옵션에 대해 알아보자!</h1>
<p>이제 HSTS가 무엇인지 그리고 왜 사용하는지는 알았으니, HSTS 설정 방법 및 옵션에 대해 알아보겠습니다.<br/>
우선 HSTS 헤더의 예시와 옵션에 대해 살펴보겠습니다.<br/>
<code class="language-text">Strict-Transport-Security: max-age=31536000 ; includeSubdomains ; preload</code></p>
<h2>HSTS 옵션</h2>
<p>HSTS의 옵션은 위와 같이 3가지의 옵션을 갖고 있습니다. 각각의 옵션에 대해 자세히 알아보도록 하겠습니다.</p>
<ul>
<li>max-age : 브라우저가 HSTS 정책을 적용할 기간(초)을 설정합니다.</li>
<li>includeSubdomains : 도메인(example.com)의 서브 도메인(api.example.com 등)에도 HSTS 설정을 적용합니다.</li>
<li>preload : 해당 도메인이 브라우저의 preload list에 추가되며, 브라우저에서는 HSTS 헤더가 없더라도 HTTP요청을 HTTPS로 강제 변환하여 전송하게 됩니다.</li>
</ul>
<h2>Spring Security HSTS 설정 방법</h2>
<p>Spring Security에서 HSTS 설정하는 방법은 XML 설정방법 및 Java Config를 통한 설정 방법이 있습니다.</p>
<h3>XML을 통한 설정 방법</h3>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>http</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- ... --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>headers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hsts</span>
      <span class="token attr-name">max-age-seconds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>31536000<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">include-subdomains</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">preload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>headers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>http</span><span class="token punctuation">&gt;</span></span></code></pre></div>
<h3>Java Config를 통한 설정 방법</h3>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@EnableWebSecurity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    http
      <span class="token comment">// ...</span>
      <span class="token punctuation">.</span><span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">httpStrictTransportSecurity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">maxAgeInSeconds</span><span class="token punctuation">(</span><span class="token number">31536000</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">includeSubDomains</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">preload</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h1>Nginx, Tomcat 환경에서 HSTS 사용중 겪은 이슈!</h1>
<p>이와 같은 HSTS 장점을 활용하기 위해, Nginx와 Tomcat환경에서 Spring Security를 통한 HSTS 설정을 하였는데,
클라이언트에서 확인해보니 응답(Response)헤더에 HSTS 설정이 누락되어 있던 이슈였습니다.<br/>
결론을 먼저 말씀 드리자면, Spring Security의 HSTS 설정은 HTTPS 요청시에만 응답헤더에 HSTS를 추가하며,
이를 해결하기 위해 Tomcat의 <code class="language-text">Connector</code> 설정에 <code class="language-text">scheme</code>, <code class="language-text">secure</code> 옵션을 추가하여 해결했습니다.</p>
<h2>이슈의 배경과 원인</h2>
<p>간략하게 이슈의 원인과 해결방법은 위에 공유드린것과 같고, 이를 좀더 자세하게 살펴보자면 아래와 같습니다.<br/>
우선 기본적인 Nginx, Tomcat 환경에 대해 설명 드리겠습니다.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1280px">
      <a class="gatsby-resp-image-link" href="/static/10ce0939ab0addd8d5695c304bfb0133/bbbf7/nginx-tomcat-architecture.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:56.388888888888886%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABTElEQVQoz5VRPU/DQAzNP6Tl1xQJGFiY+AVMLEgIsZcV2IAt0CBKGoZ+JWnT+76Lz2fUBqEWKgFPlmWd/XzvyRH9DSFseYw2JsChVWHrIP1CDsY6IRQiEpFyvuRmoWtuIGfmvVBTZhbaVcrNpVXWf/95uWCVwYdxpYmo4oJLrZwvuBUWakALHoly5sDjkiylHI1GSZIwxpoVtQ8zYZ/j+Lrb7fdfV54/vSCiEnwy4+DDkpxlWa/XS5JkPC2kdnyl6fTsfLfd6nT2tBTBKs0qsqI2Oo6f7m5vXgZDJIqstWmalmVZVZV2IExdMUFER8cn7dbO/sGhVpKcUmwerFzMivuHx0H6lo0KHyhCRAD45twjDfPF1eVFNhisaw4Bm7pgum5kN+31C4HHnDkicoBcgzBroWtpYcIsfJF/QjuYC8OV22Cugmsw9bZT/QsfQhR2W7Xorj4AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Nginx Tomcat Architecture" title="Nginx Tomcat Architecture" src="/static/10ce0939ab0addd8d5695c304bfb0133/bbbf7/nginx-tomcat-architecture.png" srcSet="/static/10ce0939ab0addd8d5695c304bfb0133/53918/nginx-tomcat-architecture.png 360w /static/10ce0939ab0addd8d5695c304bfb0133/242a6/nginx-tomcat-architecture.png 720w /static/10ce0939ab0addd8d5695c304bfb0133/bbbf7/nginx-tomcat-architecture.png 1280w" sizes="(max-width: 1280px) 100vw, 1280px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p>
<p>Nginx에서 SSL 설정을 하여 클라이언트와 Nginx는 HTTPS 통신을 하고, 리버스 프록시를 통해 Nginx와 Tomcat의 통신은 HTTP를 통해 진행하고 있었습니다.<br/>
즉, Tomcat의 입장에서는 모든 요청이 HTTP 요청으로 처리되고 있는 것입니다.
바로 여기서 문제가 발생했던 것인데요. <a href="https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/headers.html#headers-hsts">Spring Security의 HSTS 문서</a> 를 확인해보니
다음과 같이 <strong>HTTPS 요청에 대해서만 HSTS가 설정된다</strong>고 정의되어 있었습니다.</p>
<blockquote>
<p>In accordance with RFC6797, the HSTS header is only injected into HTTPS responses. In order for the browser to acknowledge the header, the browser must first trust the CA that signed the SSL certificate used to make the connection (not just the SSL certificate).</p>
</blockquote>
<h2>이슈의 해결 방법</h2>
<p>이와 같은 이슈 해결을 위해 크게 두가지 방법을 생각해볼 수 있었습니다.</p>
<ol>
<li>SSL 처리를 Tomcat에서 처리하여, Tomcat에서 Request가 HTTPS 프로토콜로 요청되도록 설정</li>
<li>Tomcat의 <code class="language-text">Connector</code> 설정 변경을 통해 secure 환경으로 명시하기</li>
</ol>
<p>첫번째 방법은 Tomcat에서 SSL 처리 부하를 Nginx로 분산시키기 위한 노력이 물거품이 되고,
다양한 다른 서비스의 틀을 바꿔야 하는 등의 단점이 있었기 때문에, 두번째 방법을 통해 해결하기로 했습니다.</p>
<p>Tomcat <code class="language-text">server.xml</code> 설정 파일의 <code class="language-text">Connector</code> 설정값에 다음과 같은 옵션을 추가하면 됩니다.</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Server</span> <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Service</span> <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Connector</span>
      <span class="token attr-name">scheme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">secure</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">...</span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Service</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Server</span><span class="token punctuation">&gt;</span></span></code></pre></div>
<p><code class="language-text">scheme</code>, <code class="language-text">secure</code> 옵션에 대한 자세한 설명은 <a href="https://tomcat.apache.org/tomcat-7.0-doc/config/http.html#Common_Attributes">Connector 옵션 문서</a> 에서 확인이 가능합니다.</p>
<blockquote>
<p><code class="language-text">scheme</code> : Set this attribute to the name of the protocol you wish to have returned by calls to request.getScheme(). For example, you would set this attribute to “https” for an SSL Connector. The default value is “http”.</p>
</blockquote>
<blockquote>
<p><code class="language-text">secure</code> : Set this attribute to true if you wish to have calls to request.isSecure() to return true for requests received by this Connector. You would want this on an SSL Connector or a non SSL connector that is receiving data from a SSL accelerator, like a crypto card, an SSL appliance or even a webserver. The default value is false.</p>
</blockquote>
<p>여기서 <code class="language-text">secure</code> 설정을 통해 <code class="language-text">request.isSecure()</code>에 대한 반환 값이 <code class="language-text">true</code>가 되도록 설정하면,
Spring Security의 <code class="language-text">HstsHeaderWriter</code> 클래스의 <code class="language-text">SecureRequestMatcher.matches(HttpsServleetRequest request)</code> 메소드가 <code class="language-text">true</code>를 반환하게 되어
HTTPS 프로토콜 통신이 아니지만, HSTS 설정이 적용되게 됩니다.<br/>
아래는 <code class="language-text">matches</code> 메소드에서 <code class="language-text">request.isSecure()</code>를 사용하고, 이를 통해 <code class="language-text">writeHeaders</code> 메서드에서 HSTS 반영 여부를 결정하는 것을 확인할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">HstsHeaderWriter</span> <span class="token keyword">implements</span> <span class="token class-name">HeaderWriter</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writeHeaders</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletReqsponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>requestMatcher<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span><span class="token function">containsHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Strict-Transport-Security&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Strict-Transport-Security&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hstsHeaderValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">SecureReqeustMatcher</span> <span class="token keyword">implements</span> <span class="token class-name">RequestMatcher</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SecureRequeestMatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> request<span class="token punctuation">.</span><span class="token function">isSecure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h1>줄이며…</h1>
<p>지금까지 HSTS에 대한 개념과, Spring Security에서 HSTS 설정 방법 그리고 Nginx와 Tomcat 환경에서 Spring Security를 통한 HSTS 적용중 겪었던 이슈를 정리해보았습니다.<br/>
혹시, 저와같은 이슈를 겪는 분들에게 작게나마 도움이 되면 좋겠습니다.</p></div></section><ins class="adsbygoogle " style="display:block;text-align:center" data-ad-client="ca-pub-7933583473323654" data-ad-slot="3598572309" data-ad-layout="in-article" data-ad-layout-key="" data-ad-format="fluid" data-full-width-responsive="true"></ins><div></div></article></div></main><style data-emotion="css dcfhc9">.css-dcfhc9{position:relative;padding:0 5vw;}</style><style data-emotion="css ylcvnr">.css-ylcvnr{position:relative;padding:0 5vw;}.css-ylcvnr .post-card{padding-bottom:0;border-bottom:none;}.css-ylcvnr .post-card-excerpt{display:none;}</style><aside class="read-next css-ylcvnr ezd6boo1"><div class="css-y521qa"><style data-emotion="css 1ehfk3g">.css-1ehfk3g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-1ehfk3g ezd6boo0"><style data-emotion="css 46oyva">.css-46oyva{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 20px 40px;min-height:220px;box-shadow:rgba(39, 44, 49, 0.06) 8px 14px 38px,rgba(39, 44, 49, 0.03) 1px 3px 8px;border-radius:5px;border-bottom:1px solid #eaeff1;background-color:#fff;-webkit-background-size:cover;background-size:cover;}.css-46oyva:hover .post-card-image{-webkit-transition:all 0.5s ease;transition:all 0.5s ease;-webkit-transform:translate3D(0, -1px, 0) scale(1.1);-moz-transform:translate3D(0, -1px, 0) scale(1.1);-ms-transform:translate3D(0, -1px, 0) scale(1.1);transform:translate3D(0, -1px, 0) scale(1.1);}@media (prefers-color-scheme: dark){.css-46oyva{background-color:#15171A;border-bottom-color:#2b2f36;box-shadow:#23262b 8px 14px 38px,#1c1e22 1px 3px 8px;}}</style><article class="post-card  css-46oyva"><style data-emotion="css 13sxcdl">.css-13sxcdl{position:relative;display:block;overflow:hidden;}</style><a class="post-card-image-link css-13sxcdl" href="/development/back-end/java/strong-reference-in-java"><style data-emotion="css 1dfyoj0">.css-1dfyoj0{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;-webkit-transition:all 0.5s ease;transition:all 0.5s ease;}</style><div class="post-card-image css-1dfyoj0 e1c3jrwf8"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1440px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;752&#x27; width=&#x27;1440&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/073a46ccfdc8b504382098cb7aaf7abf/5ea19/cover.webp 360w,/static/073a46ccfdc8b504382098cb7aaf7abf/b39fa/cover.webp 720w,/static/073a46ccfdc8b504382098cb7aaf7abf/c0eec/cover.webp 1440w" sizes="(min-width: 1440px) 1440px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1440px) 1440px, 100vw" decoding="async" loading="lazy" data-src="/static/073a46ccfdc8b504382098cb7aaf7abf/3d29c/cover.jpg" data-srcset="/static/073a46ccfdc8b504382098cb7aaf7abf/a3faa/cover.jpg 360w,/static/073a46ccfdc8b504382098cb7aaf7abf/bac42/cover.jpg 720w,/static/073a46ccfdc8b504382098cb7aaf7abf/3d29c/cover.jpg 1440w" alt="Java Strongly Reachable, Strong Reference 란 cover image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/073a46ccfdc8b504382098cb7aaf7abf/5ea19/cover.webp 360w,/static/073a46ccfdc8b504382098cb7aaf7abf/b39fa/cover.webp 720w,/static/073a46ccfdc8b504382098cb7aaf7abf/c0eec/cover.webp 1440w" sizes="(min-width: 1440px) 1440px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1440px) 1440px, 100vw" decoding="async" loading="lazy" src="/static/073a46ccfdc8b504382098cb7aaf7abf/3d29c/cover.jpg" srcSet="/static/073a46ccfdc8b504382098cb7aaf7abf/a3faa/cover.jpg 360w,/static/073a46ccfdc8b504382098cb7aaf7abf/bac42/cover.jpg 720w,/static/073a46ccfdc8b504382098cb7aaf7abf/3d29c/cover.jpg 1440w" alt="Java Strongly Reachable, Strong Reference 란 cover image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></div></a><style data-emotion="css 1lh7kdz">.css-1lh7kdz{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-1lh7kdz e1c3jrwf7"><style data-emotion="css 13pb3ux">.css-13pb3ux{position:relative;display:block;padding:0 25px 0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;color:#15171A;}.css-13pb3ux:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-13pb3ux" href="/development/back-end/java/strong-reference-in-java"><style data-emotion="css 1w0j2bn">.css-1w0j2bn{margin:15px 0 0;}</style><header class="post-card-header css-1w0j2bn e1c3jrwf0"><style data-emotion="css 5kov97">.css-5kov97{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}</style><div class="css-5kov97 e1c3jrwf6"><style data-emotion="css v10wvb">.css-v10wvb{line-height:1em;margin:0 0.3em;color:#3eb0ef;font-size:1.2rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->reference</span><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->java</span><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->strong_reference</span><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->strongly_reachable</span><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->reachable</span><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->기술_면접_질문</span></div><style data-emotion="css 3lgx4i">.css-3lgx4i{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-3lgx4i{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-3lgx4i e1c3jrwf4">Java Strongly Reachable, Strong Reference 란</h2></header><style data-emotion="css 10mgfrl">.css-10mgfrl{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-10mgfrl{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-10mgfrl e1c3jrwf3"><p>Java의 Strongly Reachable 특징과 Strong Reference 사용 예시에 대해 알아봅니다.</p></section></a><style data-emotion="css 17p6h8d">.css-17p6h8d{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0 25px 25px;}</style><footer class="post-card-meta css-17p6h8d e1c3jrwf2"><style data-emotion="css 199jrys">.css-199jrys{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-199jrys *{margin-left:auto;}@media (prefers-color-scheme: dark){.css-199jrys a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-199jrys e1c3jrwf1"><span>2<!-- --> min read</span><time dateTime="2020-12-01">2020년 12월 1일</time></div></footer></div></article><article class="post-card  css-46oyva"><a class="post-card-image-link css-13sxcdl" href="/development/back-end/java/what-is-the-access-modifier"><div class="post-card-image css-1dfyoj0 e1c3jrwf8"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1440px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;748&#x27; width=&#x27;1440&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/76f8fc3f5ed12231fb19c9ed51ac593c/526dd/cover.webp 360w,/static/76f8fc3f5ed12231fb19c9ed51ac593c/1554a/cover.webp 720w,/static/76f8fc3f5ed12231fb19c9ed51ac593c/702e4/cover.webp 1440w" sizes="(min-width: 1440px) 1440px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1440px) 1440px, 100vw" decoding="async" loading="lazy" data-src="/static/76f8fc3f5ed12231fb19c9ed51ac593c/db9be/cover.jpg" data-srcset="/static/76f8fc3f5ed12231fb19c9ed51ac593c/2c0a8/cover.jpg 360w,/static/76f8fc3f5ed12231fb19c9ed51ac593c/76181/cover.jpg 720w,/static/76f8fc3f5ed12231fb19c9ed51ac593c/db9be/cover.jpg 1440w" alt="Java 접근 제어자 (Access Modifier) cover image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/76f8fc3f5ed12231fb19c9ed51ac593c/526dd/cover.webp 360w,/static/76f8fc3f5ed12231fb19c9ed51ac593c/1554a/cover.webp 720w,/static/76f8fc3f5ed12231fb19c9ed51ac593c/702e4/cover.webp 1440w" sizes="(min-width: 1440px) 1440px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1440px) 1440px, 100vw" decoding="async" loading="lazy" src="/static/76f8fc3f5ed12231fb19c9ed51ac593c/db9be/cover.jpg" srcSet="/static/76f8fc3f5ed12231fb19c9ed51ac593c/2c0a8/cover.jpg 360w,/static/76f8fc3f5ed12231fb19c9ed51ac593c/76181/cover.jpg 720w,/static/76f8fc3f5ed12231fb19c9ed51ac593c/db9be/cover.jpg 1440w" alt="Java 접근 제어자 (Access Modifier) cover image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></div></a><div class="post-card-content css-1lh7kdz e1c3jrwf7"><a class="post-card-content-link css-13pb3ux" href="/development/back-end/java/what-is-the-access-modifier"><header class="post-card-header css-1w0j2bn e1c3jrwf0"><div class="css-5kov97 e1c3jrwf6"><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->java</span><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->access_modifier</span><span class="post-card-primary-tag css-v10wvb e1c3jrwf5">#<!-- -->interview</span></div><h2 class="post-card-title css-3lgx4i e1c3jrwf4">Java 접근 제어자 (Access Modifier)</h2></header><section class="post-card-excerpt css-10mgfrl e1c3jrwf3"><p>Java의 접근 제어자(Access Modifier)의 종류 및 차이에 대해 알아봅니다.</p></section></a><footer class="post-card-meta css-17p6h8d e1c3jrwf2"><div class="post-card-byline-content css-199jrys e1c3jrwf1"><span>6<!-- --> min read</span><time dateTime="2020-11-18">2020년 11월 18일</time></div></footer></div></article></div></div></aside><style data-emotion="css 1turcvg">.css-1turcvg{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1turcvg"><style data-emotion="css 1d3gyi8">.css-1d3gyi8{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1d3gyi8 a{color:rgba(255, 255, 255, 0.7);}.css-1d3gyi8 a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1d3gyi8{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1d3gyi8"><section class="copyright"><a href="/">DevDave</a> © <!-- -->2022<!-- --> | DevDave blog is proudly published with Gatsby &amp; GitHub Pages</section><style data-emotion="css pwtbz1">.css-pwtbz1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-pwtbz1 a{position:relative;margin-left:20px;}.css-pwtbz1 a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-pwtbz1 a:first-of-type:before{display:none;}@media (max-width: 650px){.css-pwtbz1 a:first-of-type{margin-left:0;}}</style><nav class="css-pwtbz1 ea46bro0"><a href="/">Latest Posts</a><a href="https://github.com/luckyDaveKim" target="_blank" rel="noopener noreferrer">GitHub</a><a href="https://www.linkedin.com/in/mingyu-kim-88890818b" target="_blank" rel="noopener noreferrer">LinkedIn</a><a href="https://www.facebook.com/lucky.dave.k" target="_blank" rel="noopener noreferrer">Facebook</a><a href="https://www.instagram.com/lucky.dave" target="_blank" rel="noopener noreferrer">Instagram</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-109095118-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/development/back-end/spring-security/what-is-the-hsts";window.___webpackCompilationHash="416abf6f7caa2635768a";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-b10641dc781e1cd27c7a.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-88fdf1006b15b7980b24.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-83183d4ef5672b9ef819.js"],"component---src-pages-tags-tsx":["/component---src-pages-tags-tsx-2b32f2e0a08e5ba21a1b.js"],"component---src-templates-category-tsx":["/component---src-templates-category-tsx-f279614dd80029ae2a86.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-5f785ac57d18212b4cfb.js"],"component---src-templates-post-tsx":[],"component---src-templates-tag-tsx":["/component---src-templates-tag-tsx-76320bab915bbc3f5116.js"]};/*]]>*/</script><script src="/161edb849f784c06ff2710753fb2ae881c988403-150bae5331b62b95af11.js" async=""></script><script src="/260ef370384e45f20f1f9198cbce8cf0f7de93d4-cebec47fb5439ed32a2a.js" async=""></script><script src="/commons-0a242da1f60aa5d3e680.js" async=""></script><script src="/e0525e89-8f0f4861ffbc1341b8c4.js" async=""></script><script src="/b4ffff85-058081e9899e75c36acd.js" async=""></script><script src="/af52a822-f5a60ab968dad66fa0b9.js" async=""></script><script src="/app-b10641dc781e1cd27c7a.js" async=""></script><script src="/framework-9f1703385783253fc7b0.js" async=""></script><script src="/webpack-runtime-69ca87625ade389e53ee.js" async=""></script><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></body></html>